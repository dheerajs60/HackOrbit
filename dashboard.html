<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="./Images/Minimalist_Healthcare_Digital_Logo-removebg-preview.png" type="image/x-icon">
    <style>
        *{
            font-family: 'Poppins', sans-serif;
        }
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f7f7f7;
        }
        .nav-link {
            color: #333;
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #1c7ad9;
        }
        .navbar a{
            margin-right: 5px;
        }
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: hsl(217, 89%, 85%);
        }
        .card-header {
            background-color: #1c7ad9;
            color: #fff;
            border-bottom: none;
            padding: 15px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        .table {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .form-control {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .btn {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background-color: #1c7ad9;
            color: #fff;
            transition: background-color 0.3s ease;
        }
        .btn:hover {
            background-color: #1666b3;
        }
        .modal-content {
            border: none;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .modal-header {
            background-color: #1c7ad9;
            color: #fff;
            border-bottom: none;
            padding: 15px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        .navbar {
            background-color: #1c7ad9;
        }
        .profile-picture {
            width: 175px;
            height: 175px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #1c7ad9;
            margin-right: 5px;
            margin-top: 15px;
        }
        .footer {
            background-color: #1c7ad9;
            color: #fff;
            text-align: center;
            padding: 10px;
        }
        h5{
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" style="color: #fff;">Patient Dashboard</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="#profile">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./appt.html">Appointments</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#medical-history">Medical History</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./medication.html">Medications</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#test-results">Test Results</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#bmi-calculator">BMI Calculator</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="d-flex flex-column flex-fill">
        <div class="container flex-fill g-0">
            <div class="row g-0">
                <div class="col-md-12">
                    <div id="profile">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5>Patient Profile</h5>
                            </div>
                            <div class="card-body">
                                <div class="row g-0">
                                    <div class="col-md-4 text-center">
                                        <img src="https://via.placeholder.com/100" class="profile-picture" id="profile-picture">
                                        <input type="file" id="profile-picture-upload" style="display: none;">
                                        <button class="btn mt-3" onclick="document.getElementById('profile-picture-upload').click()">Upload Profile Picture</button>
                                    </div>
                                    <div class="col-md-8">
                                        <form>
                                            <div class="mb-3">
                                                <label for="name" class="form-label">Name</label>
                                                <input type="text" class="form-control" id="name" value="John Doe" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="date-of-birth" class="form-label">Date of Birth</label>
                                                <input type="date" class="form-control" id="date-of-birth" value="1990-01-01" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="email" value="john.doe@example.com" required>
                                            </div>
                                            <div class="mb-3">
                                                <label for="phone" class="form-label">Phone</label>
                                                <input type="text" class="form-control" id="phone" value="1234567890" required>
                                            </div>
                                            <button type="submit" class="btn">
                                                <i class="bi bi-save"></i> Save
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="appointments">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5>Appointments</h5>
                            </div>
                            <div class="card-body">
                                <h6>Upcoming Appointments:</h6>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Time</th>
                                            <th>Doctor</th>
                                            <th>Location</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="upcoming-appointments">
                                        <tr>
                                            <td>2024-09-20</td>
                                            <td>10:00 AM</td>
                                            <td>Dr. Smith</td>
                                            <td>Hospital</td>
                                            <td>
                                                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#upcoming-appointment-modal">
                                                    <i class="bi bi-eye"></i> View Details
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <h6>Past Appointments:</h6>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Time</th>
                                            <th>Doctor</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>2024-09-15</td>
                                            <td>10:00 AM</td>
                                            <td>Dr. Johnson</td>
                                            <td>
                                                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#appointment-modal">
                                                    <i class="bi bi-eye"></i> View Details
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id="medical-history">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5>Medical History</h5>
                            </div>
                            <div class="card-body">
                                <p>Condition: Diabetes</p>
                                <p>Treatment: Insulin</p>
                                <p>Notes: Patient is allergic to penicillin</p>
                                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#medical-history-modal">
                                    <i class="bi bi-pencil"></i> Edit
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="medications">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5>Medications</h5>
                            </div>
                            <div class="card-body">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Medication</th>
                                            <th>Dosage</th>
                                            <th>Frequency</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Insulin</td>
                                            <td>10 units</td>
                                            <td>Twice a day</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#medications-modal">
                                    <i class="bi bi-plus"></i> Add Medication
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="test-results">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5>Test Results</h5>
                            </div>
                            <div class="card-body">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Test</th>
                                            <th>Result</th>
                                            <th>Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Blood Sugar Test</td>
                                            <td>120 mg/dL</td>
                                            <td>2024-09-15</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#test-results-modal">
                                    <i class="bi bi-plus"></i> Add Test Result
                                </button>
                            </div>
                        </div>
                    </div>
                    <div id="bmi-calculator">
                        <div class="card mt-4">
                            <div class="card-header">
                                <h5>BMI Calculator</h5>
                            </div>
                            <div class="card-body">
                                <form id="bmi-form">
                                    <div class="mb-3">
                                        <label for="weight" class="form-label">Weight (kg)</label>
                                        <input type="number" class="form-control" id="weight" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="height" class="form-label">Height (cm)</label>
                                        <input type="number" class="form-control" id="height" required>
                                    </div>
                                    <button type="submit" class="btn">
                                        <i class="bi bi-calculator"></i> Calculate BMI
                                    </button>
                                    <p id="bmi-result"></p>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer sticky-bottom">
        &copy; 2024 Patient Dashboard
    </footer>
    <div class="modal fade" id="appointment-modal" tabindex="-1" aria-labelledby="appointment-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="appointment-modal-label">Appointment Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Date: 2024-09-15</p>
                    <p>Time: 10:00 AM</p>
                    <p>Doctor: Dr. Johnson</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="upcoming-appointment-modal" tabindex="-1" aria-labelledby="upcoming-appointment-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="upcoming-appointment-modal-label">Upcoming Appointment Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Date: 2024-09-20</p>
                    <p>Time: 10:00 AM</p>
                    <p>Doctor: Dr. Smith</p>
                    <p>Location: Hospital</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="medical-history-modal" tabindex="-1" aria-labelledby="medical-history-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="medical-history-modal-label">Edit Medical History</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="condition" class="form-label">Condition</label>
                            <input type="text" class="form-control" id="condition" required>
                        </div>
                        <div class="mb-3">
                            <label for="treatment" class="form-label">Treatment</label>
                            <input type="text" class="form-control" id="treatment" required>
                        </div>
                        <div class="mb-3">
                            <label for="notes" class="form-label">Notes</label>
                            <textarea class="form-control" id="notes" required></textarea>
                        </div>
                        <button type="submit" class="btn">
                            <i class="bi bi-save"></i> Save
                        </button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="medications-modal" tabindex="-1" aria-labelledby="medications-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="medications-modal-label">Add Medication</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="medication" class="form-label">Medication</label>
                            <input type="text" class="form-control" id="medication" required>
                        </div>
                        <div class="mb-3">
                            <label for="dosage" class="form-label">Dosage</label>
                            <input type="text" class="form-control" id="dosage" required>
                        </div>
                        <div class="mb-3">
                            <label for="frequency" class="form-label">Frequency</label>
                            <input type="text" class="form-control" id="frequency" required>
                        </div>
                        <button type="submit" class="btn">
                            <i class="bi bi-plus"></i> Add
                        </button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="test-results-modal" tabindex="-1" aria-labelledby="test-results-modal-label" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="test-results-modal-label">Add Test Result</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="test" class="form-label">Test</label>
                            <input type="text" class="form-control" id="test" required>
                        </div>
                        <div class="mb-3">
                            <label for="result" class="form-label">Result</label>
                            <input type="text" class="form-control" id="result" required>
                        </div>
                        <div class="mb-3">
                            <label for="date" class="form-label">Date</label>
                            <input type="date" class="form-control" id="date" required>
                        </div>
                        <button type="submit" class="btn">
                            <i class="bi bi-plus"></i> Add
                        </button>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('bmi-form').addEventListener('submit', function(event) {
            event.preventDefault();
            var weight = document.getElementById('weight').value;
            var height = document.getElementById('height').value;
            var bmi = weight / Math.pow(height / 100, 2);
            var message;
            if (bmi < 18.5) {
                message = 'Underweight';
            } else if (bmi < 25) {
                message = 'Normal weight';
            } else if (bmi < 30) {
                message = 'Overweight';
            } else {
                message = 'Obese';
            }
            document.getElementById('bmi-result').innerHTML = 'Your BMI is: ' + bmi.toFixed(2) + '. You are ' + message;
        });
        document.getElementById('profile-picture-upload').addEventListener('change', function() {
            var reader = new FileReader();
            reader.onload = function(event) {
                document.getElementById('profile-picture').src = event.target.result;
            };
            reader.readAsDataURL(this.files[0]);
        });
        var upcomingAppointments = [
            {
                date: '2024-09-20',
                time: '10:00 AM',
                doctor: 'Dr. Smith',
                location: 'Hospital'
            }
        ];
        var pastAppointments = [
            {
                date: '2024-09-15',
                time: '10:00 AM',
                doctor: 'Dr. Johnson'
            }
        ];
        var upcomingAppointmentsHtml = '';
        upcomingAppointments.forEach(appointment => {
            upcomingAppointmentsHtml += `
                <tr>
                    <td>${appointment.date}</td>
                    <td>${appointment.time}</td>
                    <td>${appointment.doctor}</td>
                    <td>${appointment.location}</td>
                    <td>
                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#upcoming-appointment-modal">
                            <i class="bi bi-eye"></i> View Details
                        </button>
                    </td>
                </tr>
            `;
        });
        document.getElementById('upcoming-appointments').innerHTML = upcomingAppointmentsHtml;
    </script>
    <script>
    // Load saved profile data from localStorage
    window.addEventListener('DOMContentLoaded', () => {
        const name = localStorage.getItem('profileName');
        const dob = localStorage.getItem('profileDOB');
        const email = localStorage.getItem('profileEmail');
        const phone = localStorage.getItem('profilePhone');

        if (name) document.getElementById('name').value = name;
        if (dob) document.getElementById('date-of-birth').value = dob;
        if (email) document.getElementById('email').value = email;
        if (phone) document.getElementById('phone').value = phone;
    });

    // Save profile data to localStorage on form submit
    document.querySelector('#profile form').addEventListener('submit', function (e) {
        e.preventDefault();

        localStorage.setItem('profileName', document.getElementById('name').value);
        localStorage.setItem('profileDOB', document.getElementById('date-of-birth').value);
        localStorage.setItem('profileEmail', document.getElementById('email').value);
        localStorage.setItem('profilePhone', document.getElementById('phone').value);

        alert("Profile saved successfully!");
    });
</script>

</body>
</html>