<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vaidya - Book an Appointment</title>
    <link rel="shortcut icon" href="./image/new/Minimalist_Healthcare_Digital_Logo-removebg-preview.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        .section-heading {
            color: #03055B;
            font-size: 24px;
            font-weight: bold;
        }
        .subtext {
            color: #ccc;
            font-size: 16px;
        }
        .form-control {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .btn {
            padding: 10px 20px;
            font-size: 16px;
            background-color: white;
            color: #007DFE;
            border: 2px solid #007DFE;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #007DFE;
            color:white;
        }
        .confirmation-box {
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        .appointment-card {
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .card-button {
            padding: 5px 10px;
            font-size: 14px;
            background-color: #45a0e6;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .card-button:hover {
            background-color: #3789c9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2 class="section-heading">Schedule Your Appointment</h2>
        <p class="subtext">Book an appointment with our expert doctors and get the best treatment for your health issues.</p>
        <form id="appointment-form">
            <div class="mb-3">
                <label for="patient-name" class="form-label">Patient Name:</label>
                <input type="text" id="patient-name" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email Address:</label>
                <input type="email" id="email" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="phone" class="form-label">Phone Number:</label>
                <input type="number" id="phone" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="doctor" class="form-label">Select Doctor:</label>
                <select id="doctor" class="form-control" required>
                    <option value="">Select Doctor</option>
                    <option value="Dr. Kunal Sarkar - Cardiologist">Dr. Kunal Sarkar - Cardiologist</option>
                    <option value="Dr. Rohan Patel - Neurologist">Dr. Rohan Patel - Neurologist</option>
                    <option value="Dr. Priya Sharma - Dermatologist">Dr. Priya Sharma - Dermatologist</option>
                    <option value="Dr. Akash Singh - Orthopedic">Dr. Akash Singh - Orthopedic</option>
                    <option value="Dr. Dhanush - Intern">Dr. Dhanush - Intern</option>
                    <option value="Dr. Sandesh reddy - Junior doctor">Dr. Sandesh Reddy - Junior Doctor</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="date" class="form-label">Appointment Date:</label>
                <input type="date" id="date" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="time" class="form-label">Time Slot:</label>
                <select id="time" class="form-control" required>
                    <option value="">Select Time</option>
                    <option value="10:00 AM">10:00 AM</option>
                    <option value="12:00 PM">12:00 PM</option>
                    <option value="3:00 PM">3:00 PM</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="notes" class="form-label">Notes or Symptoms:</label>
                <textarea id="notes" class="form-control" rows="5"></textarea>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="remind-1-day">
                <label class="form-check-label" for="remind-1-day">Remind me 1 day before</label>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="remind-1-hour">
                <label class="form-check-label" for="remind-1-hour">Remind me 1 hour before</label>
            </div>
            <button type="submit" class="btn"><i class="fas fa-plus"></i> Save Appointment</button>
        </form>
        <div id="confirmation-box" class="confirmation-box" style="display: none;">
            <h3>Appointment Confirmation</h3>
            <p>Patient Name: <span id="patient-name-confirmation"></span></p>
            <p>Doctor: <span id="doctor-confirmation"></span></p>
            <p>Date & Time: <span id="date-time-confirmation"></span></p>
            <p>Notes: <span id="notes-confirmation"></span></p>
            <p>Status: <span id="status-confirmation" class="text-primary">Pending</span></p>
            <button id="whatsapp-btn" class="btn">Send via WhatsApp</button>
        </div>
        <h2 class="section-heading mt-5">My Upcoming Appointments</h2>
        <div id="upcoming-appointments" class="row"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
    <script>
        const form = document.getElementById('appointment-form');
        const confirmationBox = document.getElementById('confirmation-box');
        const whatsappBtn = document.getElementById('whatsapp-btn');
        const patientNameInput = document.getElementById('patient-name');
        const emailInput = document.getElementById('email');
        const phoneInput = document.getElementById('phone');
        const doctorSelect = document.getElementById('doctor');
        const dateInput = document.getElementById('date');
        const timeSelect = document.getElementById('time');
        const notesTextarea = document.getElementById('notes');
        const patientNameConfirmation = document.getElementById('patient-name-confirmation');
        const doctorConfirmation = document.getElementById('doctor-confirmation');
        const dateTimeConfirmation = document.getElementById('date-time-confirmation');
        const notesConfirmation = document.getElementById('notes-confirmation');
        const statusConfirmation = document.getElementById('status-confirmation');
        const upcomingAppointments = document.getElementById('upcoming-appointments');

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const patientName = patientNameInput.value;
            const email = emailInput.value;
            const phone = phoneInput.value;
            const doctor = doctorSelect.value;
            const date = dateInput.value;
            const time = timeSelect.value;
            const notes = notesTextarea.value;

            if (patientName === '' || email === '' || phone === '' || doctor === '' || date === '' || time === '') {
                console.log('Please fill all required fields');
                return;
            }

            const appointment = {
                patientName,
                email,
                phone,
                doctor,
                date,
                time,
                notes,
                status: 'Pending'
            };

            const appointments = JSON.parse(localStorage.getItem('appointments')) || [];
            appointments.push(appointment);
            localStorage.setItem('appointments', JSON.stringify(appointments));

            confirmationBox.style.display = 'block';
            patientNameConfirmation.textContent = patientName;
            doctorConfirmation.textContent = doctor;
            dateTimeConfirmation.textContent = `${date} at ${time}`;
            notesConfirmation.textContent = notes;
            statusConfirmation.textContent = 'Pending';

            displayUpcomingAppointments();
        });

        whatsappBtn.addEventListener('click', () => {
            const patientName = patientNameConfirmation.textContent;
            const doctor = doctorConfirmation.textContent;
            const date = dateTimeConfirmation.textContent.split(' at ')[0];
            const time = dateTimeConfirmation.textContent.split(' at ')[1];
            const notes = notesConfirmation.textContent;
            const phone = phoneInput.value;
            const message = `Hello Sir/Madam , You have an appointment with ${doctor} on ${date} at ${time}. My notes are: ${notes}.`;
            const whatsappUrl = `https://wa.me/${phone}/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        });

        function displayUpcomingAppointments() {
            const appointments = JSON.parse(localStorage.getItem('appointments')) || [];
            upcomingAppointments.innerHTML = '';
            appointments.forEach((appointment, index) => {
                const appointmentCard = document.createElement('div');
                appointmentCard.className = 'appointment-card col-md-4';
                appointmentCard.innerHTML = `
                    <h4>Appointment ${index + 1}</h4>
                    <p>Doctor: ${appointment.doctor}</p>
                    <p>Date & Time: ${appointment.date} at ${appointment.time}</p>
                    <p>Notes: ${appointment.notes}</p>
                    <p>Status: <span class="text-primary">${appointment.status}</span></p>
                    <button class="card-button cancel-btn">Cancel</button>
                    <button class="card-button reschedule-btn">Reschedule</button>
                `;
                const cancelBtn = appointmentCard.querySelector('.cancel-btn');
                cancelBtn.addEventListener('click', () => {
                    const confirmation = confirm('Are you sure you want to cancel this appointment?');
                    if (confirmation) {
                        appointment.status = 'Cancelled';
                        localStorage.setItem('appointments', JSON.stringify(appointments));
                        displayUpcomingAppointments();
                    }
                });
                const rescheduleBtn = appointmentCard.querySelector('.reschedule-btn');
                rescheduleBtn.addEventListener('click', () => {
                    const date = prompt('Enter new date (YYYY-MM-DD)');
                    const time = prompt('Enter new time (HH:MM AM/PM)');
                    if (date && time) {
                        appointment.date = date;
                        appointment.time = time;
                        localStorage.setItem('appointments', JSON.stringify(appointments));
                        displayUpcomingAppointments();
                    }
                });
                upcomingAppointments.appendChild(appointmentCard);
            });
        }
    </script>
</body>
</html>